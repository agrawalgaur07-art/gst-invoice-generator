<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GST Invoice Generator - Singhal Hardware</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; min-height: 100vh; }
.container { max-width: 1400px; margin: 0 auto; }
.header { text-align: center; color: white; margin-bottom: 30px; }
.header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
.header p { font-size: 1.2em; opacity: 0.9; }
.form-section { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 30px; }
.form-section h2 { color: #667eea; margin-bottom: 25px; font-size: 1.8em; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
.section-group { margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #667eea; }
.section-group h3 { color: #333; margin-bottom: 15px; font-size: 1.3em; }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
.form-group { display: flex; flex-direction: column; }
.form-group label { font-weight: 600; margin-bottom: 5px; color: #555; font-size: 0.9em; }
.form-group input { padding: 10px; border: 2px solid #ddd; border-radius: 5px; font-size: 1em; transition: all 0.3s; }
.form-group input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
.item-row { background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 2px solid #e0e0e0; position: relative; }
.item-row h4 { color: #667eea; margin-bottom: 10px; }
.btn-remove { position: absolute; top: 10px; right: 10px; background: #ff4757; color: white; border: none; padding: 5px 15px; border-radius: 5px; cursor: pointer; transition: all 0.3s; }
.btn-remove:hover { background: #ff3838; transform: scale(1.05); }
.btn-add { background: #2ecc71; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: 600; transition: all 0.3s; width: 100%; margin-top: 10px; }
.btn-add:hover { background: #27ae60; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3); }
.actions { display: flex; gap: 15px; margin-top: 30px; flex-wrap: wrap; }
.btn-primary, .btn-secondary { flex: 1; padding: 15px 30px; border: none; border-radius: 8px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s; min-width: 200px; }
.btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
.btn-secondary { background: #34495e; color: white; }
.btn-secondary:hover { background: #2c3e50; transform: translateY(-3px); box-shadow: 0 10px 25px rgba(52, 73, 94, 0.4); }
.invoice-preview { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-top: 30px; display: none; }

/* Invoice Styles - Exact Match to Sample */
.invoice-container { 
  background: white; 
  padding: 20px; 
  max-width: 210mm; 
  margin: 0 auto; 
  font-family: Arial, sans-serif;
  font-size: 11px;
  line-height: 1.3;
  color: #000;
}
.inv-header { 
  text-align: center; 
  border-bottom: 1px solid #000;
  padding-bottom: 5px;
  margin-bottom: 10px;
  position: relative;
}
.inv-header h1 { 
  font-size: 18px; 
  font-weight: bold;
  margin-bottom: 0;
}
.inv-header .e-invoice {
  position: absolute;
  right: 0;
  top: 0;
  font-size: 10px;
}
.inv-irn-section {
  margin-bottom: 10px;
  font-size: 10px;
}
.inv-irn-section p {
  margin: 2px 0;
}
.inv-main-grid {
  display: table;
  width: 100%;
  border: 1px solid #000;
  border-collapse: collapse;
  margin-bottom: 10px;
}
.inv-left-col {
  display: table-cell;
  width: 50%;
  border-right: 1px solid #000;
  padding: 8px;
  vertical-align: top;
}
.inv-right-col {
  display: table-cell;
  width: 50%;
  padding: 8px;
  vertical-align: top;
}
.inv-section-title {
  font-weight: bold;
  font-size: 11px;
  margin-bottom: 5px;
}
.inv-company-name {
  font-weight: bold;
  font-size: 12px;
  margin-bottom: 3px;
}
.inv-detail-line {
  margin: 2px 0;
  font-size: 10px;
}
.inv-consignee-section {
  border-top: 1px solid #000;
  padding-top: 8px;
  margin-top: 8px;
}
.inv-buyer-section {
  border: 1px solid #000;
  padding: 8px;
  margin-bottom: 10px;
}
.inv-items-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 10px;
  font-size: 10px;
}
.inv-items-table th {
  border: 1px solid #000;
  padding: 5px;
  background: #f0f0f0;
  font-weight: bold;
  text-align: center;
}
.inv-items-table td {
  border: 1px solid #000;
  padding: 5px;
  text-align: left;
}
.inv-items-table td.center {
  text-align: center;
}
.inv-items-table td.right {
  text-align: right;
}
.inv-items-table .item-row {
  height: 80px;
  vertical-align: top;
}
.inv-items-table .tax-row {
  font-style: italic;
  text-align: right;
}
.inv-items-table .total-row {
  font-weight: bold;
}
.inv-amount-words {
  border: 1px solid #000;
  border-top: none;
  padding: 5px 8px;
  font-size: 10px;
  margin-bottom: 10px;
}
.inv-amount-words strong {
  font-weight: bold;
}
.inv-eoe {
  text-align: right;
  font-style: italic;
  font-size: 10px;
  margin-bottom: 5px;
}
.inv-tax-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 10px;
  font-size: 10px;
}
.inv-tax-table th {
  border: 1px solid #000;
  padding: 4px;
  background: #f0f0f0;
  font-weight: bold;
  text-align: center;
}
.inv-tax-table td {
  border: 1px solid #000;
  padding: 4px;
  text-align: center;
}
.inv-tax-table .total-row {
  font-weight: bold;
}
.inv-tax-words {
  border: 1px solid #000;
  padding: 5px 8px;
  font-size: 10px;
  margin-bottom: 10px;
}
.inv-bottom-section {
  display: table;
  width: 100%;
  border: 1px solid #000;
  border-collapse: collapse;
}
.inv-bank-col {
  display: table-cell;
  width: 50%;
  border-right: 1px solid #000;
  padding: 8px;
  vertical-align: top;
  font-size: 10px;
}
.inv-signature-col {
  display: table-cell;
  width: 50%;
  padding: 8px;
  vertical-align: top;
  font-size: 10px;
}
.inv-declaration {
  border: 1px solid #000;
  border-top: none;
  padding: 8px;
  font-size: 9px;
  margin-bottom: 0;
}
.inv-footer {
  text-align: center;
  font-size: 9px;
  margin-top: 10px;
  font-style: italic;
}
.inv-footer p {
  margin: 2px 0;
}
.inv-signature-area {
  min-height: 60px;
  text-align: right;
  padding-top: 40px;
}

@media print {
  body { background: white; padding: 0; }
  .form-section, .actions, .header { display: none; }
  .invoice-preview { box-shadow: none; padding: 0; border-radius: 0; }
  .invoice-container { padding: 10mm; }
}
@media (max-width: 768px) { 
  .form-grid { grid-template-columns: 1fr; } 
  .actions { flex-direction: column; } 
  .btn-primary, .btn-secondary { width: 100%; }
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>ðŸ“Š GST Invoice Generator</h1>
<p>Professional Accounting Software - Based on Singhal Hardware Format</p>
</div>

<div class="form-section">
<h2>Invoice Details</h2>

<div class="section-group">
<h3>Seller Details</h3>
<div class="form-grid">
<div class="form-group"><label>Company Name</label><input type="text" id="companyName" value="SINGHAL HARDWARE"></div>
<div class="form-group"><label>Address Line 1</label><input type="text" id="companyAddress1" value="NEAR CHANDNI CHOWK"></div>
<div class="form-group"><label>Address Line 2</label><input type="text" id="companyAddress2" value="RING ROAD AMBIKAPUR"></div>
<div class="form-group"><label>GSTIN/UIN</label><input type="text" id="companyGSTIN" value="22AGEPA7785N1Z4"></div>
<div class="form-group"><label>State Name & Code</label><input type="text" id="companyState" value="Chhattisgarh, Code :22"></div>
<div class="form-group"><label>Email</label><input type="email" id="companyEmail" value="arujagrawal83@ymail.com"></div>
</div>
</div>

<div class="section-group">
<h3>Invoice Information</h3>
<div class="form-grid">
<div class="form-group"><label>Invoice Number</label><input type="text" id="invoiceNo" value="731"></div>
<div class="form-group"><label>Invoice Date</label><input type="date" id="invoiceDate"></div>
<div class="form-group"><label>IRN</label><input type="text" id="irn" value=""></div>
<div class="form-group"><label>Ack No.</label><input type="text" id="ackNo" value=""></div>
<div class="form-group"><label>Ack Date</label><input type="date" id="ackDate"></div>
<div class="form-group"><label>Payment Terms</label><input type="text" id="paymentTerms" value=""></div>
</div>
</div>

<div class="section-group">
<h3>Buyer Details (Bill To)</h3>
<div class="form-grid">
<div class="form-group"><label>Buyer Name</label><input type="text" id="buyerName" value="ARUN AGRAWAL"></div>
<div class="form-group"><label>Address Line 1</label><input type="text" id="buyerAddress1" value="OPPOSITE ROOP DEV MARKET"></div>
<div class="form-group"><label>Address Line 2</label><input type="text" id="buyerAddress2" value="DEVIGANJ ROAD, AMBIKAPUR, Surguja"></div>
<div class="form-group"><label>GSTIN/UIN</label><input type="text" id="buyerGSTIN" value="22AHLPA9765E1ZE"></div>
<div class="form-group"><label>State Name & Code</label><input type="text" id="buyerState" value="Chhattisgarh, Code :22"></div>
</div>
</div>

<div class="section-group">
<h3>Shipping & Delivery Details</h3>
<div class="form-grid">
<div class="form-group"><label>Dispatched Through</label><input type="text" id="dispatchedThrough" value="Pickup"></div>
<div class="form-group"><label>Destination</label><input type="text" id="destination" value="Ambikapur"></div>
<div class="form-group"><label>Vehicle No</label><input type="text" id="vehicleNo" value="UP64BT3582"></div>
<div class="form-group"><label>Bill of Lading/LR-RR No.</label><input type="text" id="billOfLading" value="dt. 12-Jul-25"></div>
</div>
</div>

<div class="section-group">
<h3>Bank Details</h3>
<div class="form-grid">
<div class="form-group"><label>Bank Name</label><input type="text" id="bankName" value="Bank of India-0073"></div>
<div class="form-group"><label>A/c No.</label><input type="text" id="accountNo" value="336920110000014"></div>
<div class="form-group"><label>Branch & IFSC Code</label><input type="text" id="ifscCode" value="Ambikapur & BKID0009380"></div>
</div>
</div>

<div class="section-group">
<h3>Invoice Items</h3>
<div id="itemsContainer"></div>
<button class="btn-add" onclick="addItem()">+ Add Item</button>
</div>

<div class="actions">
<button class="btn-primary" onclick="generateInvoice()">ðŸ§¾ Generate Invoice</button>
<button class="btn-secondary" onclick="downloadPDF()">ðŸ“¥ Download PDF</button>
<button class="btn-secondary" onclick="clearForm()">ðŸ”„ Clear Form</button>
</div>
</div>

<div class="invoice-preview" id="invoicePreview">
<div class="invoice-container" id="invoiceContainer"></div>
</div>
</div>

<script>
let itemCounter = 0;

window.addEventListener('DOMContentLoaded', () => {
  addItem();
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('invoiceDate').value = today;
  document.getElementById('ackDate').value = today;
});

function addItem() {
  itemCounter++;
  const container = document.getElementById('itemsContainer');
  const itemRow = document.createElement('div');
  itemRow.className = 'item-row';
  itemRow.id = `item-${itemCounter}`;
  
  itemRow.innerHTML = `
    <h4>Item ${itemCounter}</h4>
    <button class="btn-remove" onclick="removeItem(${itemCounter})">âœ• Remove</button>
    <div class="form-grid">
      <div class="form-group"><label>Description of Goods</label><input type="text" id="desc-${itemCounter}" placeholder="e.g., Putty 40 Kg"></div>
      <div class="form-group"><label>HSN/SAC Code</label><input type="text" id="hsn-${itemCounter}" placeholder="e.g., 32141000"></div>
      <div class="form-group"><label>Quantity</label><input type="number" id="qty-${itemCounter}" step="0.01" value="1" onchange="calculateItem(${itemCounter})"></div>
      <div class="form-group"><label>Unit</label><input type="text" id="unit-${itemCounter}" value="pcs" placeholder="pcs/kg/ltr"></div>
      <div class="form-group"><label>Rate per Unit (â‚¹)</label><input type="number" id="rate-${itemCounter}" step="0.01" value="0" onchange="calculateItem(${itemCounter})"></div>
      <div class="form-group"><label>Amount (â‚¹)</label><input type="number" id="amount-${itemCounter}" step="0.01" value="0" readonly></div>
      <div class="form-group"><label>CGST Rate (%)</label><input type="number" id="cgst-rate-${itemCounter}" step="0.01" value="9" onchange="calculateItem(${itemCounter})"></div>
      <div class="form-group"><label>SGST Rate (%)</label><input type="number" id="sgst-rate-${itemCounter}" step="0.01" value="9" onchange="calculateItem(${itemCounter})"></div>
    </div>
  `;
  
  container.appendChild(itemRow);
}

function removeItem(id) {
  const item = document.getElementById(`item-${id}`);
  if (item) item.remove();
}

function calculateItem(id) {
  const qty = parseFloat(document.getElementById(`qty-${id}`).value) || 0;
  const rate = parseFloat(document.getElementById(`rate-${id}`).value) || 0;
  const amount = qty * rate;
  document.getElementById(`amount-${id}`).value = amount.toFixed(2);
}

function numberToWords(num) {
  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];
  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];
  
  if (num === 0) return 'Zero';
  let words = '';
  
  if (num >= 10000000) {
    words += numberToWords(Math.floor(num / 10000000)) + ' Crore ';
    num %= 10000000;
  }
  if (num >= 100000) {
    words += numberToWords(Math.floor(num / 100000)) + ' Lakh ';
    num %= 100000;
  }
  if (num >= 1000) {
    words += numberToWords(Math.floor(num / 1000)) + ' Thousand ';
    num %= 1000;
  }
  if (num >= 100) {
    words += ones[Math.floor(num / 100)] + ' Hundred ';
    num %= 100;
  }
  if (num >= 20) {
    words += tens[Math.floor(num / 10)] + ' ';
    num %= 10;
  } else if (num >= 10) {
    words += teens[num - 10] + ' ';
    num = 0;
  }
  if (num > 0) words += ones[num] + ' ';
  
  return words.trim();
}

function generateInvoice() {
  const items = [];
  let totalAmount = 0, totalCGST = 0, totalSGST = 0, totalQty = 0;
  
  for (let i = 1; i <= itemCounter; i++) {
    if (document.getElementById(`item-${i}`)) {
      const desc = document.getElementById(`desc-${i}`).value;
      const hsn = document.getElementById(`hsn-${i}`).value;
      const qty = parseFloat(document.getElementById(`qty-${i}`).value) || 0;
      const unit = document.getElementById(`unit-${i}`).value;
      const rate = parseFloat(document.getElementById(`rate-${i}`).value) || 0;
      const amount = parseFloat(document.getElementById(`amount-${i}`).value) || 0;
      const cgstRate = parseFloat(document.getElementById(`cgst-rate-${i}`).value) || 0;
      const sgstRate = parseFloat(document.getElementById(`sgst-rate-${i}`).value) || 0;
      const cgstAmount = (amount * cgstRate) / 100;
      const sgstAmount = (amount * sgstRate) / 100;
      
      items.push({ desc, hsn, qty, unit, rate, amount, cgstRate, cgstAmount, sgstRate, sgstAmount });
      totalAmount += amount;
      totalCGST += cgstAmount;
      totalSGST += sgstAmount;
      totalQty += qty;
    }
  }
  
  const totalBeforeRound = totalAmount + totalCGST + totalSGST;
  const roundedTotal = Math.round(totalBeforeRound);
  const roundOff = roundedTotal - totalBeforeRound;
  
  let itemsHTML = '';
  items.forEach((item, i) => {
    itemsHTML += `<tr class="item-row">
      <td class="center">${i+1}</td>
      <td>${item.desc}</td>
      <td class="center">${item.hsn}</td>
      <td class="center">${item.qty.toFixed(2)} ${item.unit}</td>
      <td class="right">${item.rate.toFixed(2)}</td>
      <td class="center">${item.unit}</td>
      <td class="right">${item.amount.toFixed(2)}</td>
    </tr>`;
  });
  
  // Add empty rows if needed to match sample
  const emptyRowsNeeded = Math.max(0, 1 - items.length);
  for (let i = 0; i < emptyRowsNeeded; i++) {
    itemsHTML += `<tr class="item-row"><td class="center"></td><td></td><td class="center"></td><td class="center"></td><td class="right"></td><td class="center"></td><td class="right"></td></tr>`;
  }
  
  itemsHTML += `
    <tr><td colspan="6" class="right tax-row">Cgst</td><td class="right">${totalCGST.toFixed(2)}</td></tr>
    <tr><td colspan="6" class="right tax-row">Sgst</td><td class="right">${totalSGST.toFixed(2)}</td></tr>
    <tr><td colspan="6" class="right tax-row">Round off</td><td class="right">${roundOff >= 0 ? '' : '(-)'}${Math.abs(roundOff).toFixed(2)}</td></tr>
    <tr class="total-row"><td colspan="3" class="right">Total</td><td class="center">${totalQty.toFixed(2)} ${items[0]?.unit || 'pcs'}</td><td colspan="2"></td><td class="right">â‚¹ ${roundedTotal.toFixed(2)}</td></tr>
  `;
  
  let taxHTML = '';
  items.forEach(item => {
    taxHTML += `<tr>
      <td>${item.hsn}</td>
      <td class="right">${item.amount.toFixed(2)}</td>
      <td>${item.cgstRate}%</td>
      <td class="right">${item.cgstAmount.toFixed(2)}</td>
      <td>${item.sgstRate}%</td>
      <td class="right">${item.sgstAmount.toFixed(2)}</td>
      <td class="right">${(item.amount + item.cgstAmount + item.sgstAmount).toFixed(2)}</td>
    </tr>`;
  });
  taxHTML += `<tr class="total-row">
    <td><strong>Total</strong></td>
    <td class="right"><strong>${totalAmount.toFixed(2)}</strong></td>
    <td></td>
    <td class="right"><strong>${totalCGST.toFixed(2)}</strong></td>
    <td></td>
    <td class="right"><strong>${totalSGST.toFixed(2)}</strong></td>
    <td class="right"><strong>${(totalAmount + totalCGST + totalSGST).toFixed(2)}</strong></td>
  </tr>`;
  
  const formatDate = (d) => {
    const date = new Date(d);
    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    return `${date.getDate().toString().padStart(2,'0')}-${months[date.getMonth()]}-${date.getFullYear().toString().slice(-2)}`;
  };
  
  const invoiceHTML = `
    <div class="inv-header">
      <h1>INVOICE</h1>
      <div class="e-invoice">e-Invoice</div>
    </div>
    
    <div class="inv-irn-section">
      <p><strong>IRN</strong> : ${document.getElementById('irn').value}</p>
      <p><strong>Ack No.</strong> : ${document.getElementById('ackNo').value}</p>
      <p><strong>Ack Date</strong> : ${formatDate(document.getElementById('ackDate').value)}</p>
    </div>
    
    <div class="inv-main-grid">
      <div class="inv-left-col">
        <div class="inv-company-name">${document.getElementById('companyName').value}</div>
        <div class="inv-detail-line">${document.getElementById('companyAddress1').value}</div>
        <div class="inv-detail-line">${document.getElementById('companyAddress2').value}</div>
        <div class="inv-detail-line"><strong>GSTIN/UIN:</strong> ${document.getElementById('companyGSTIN').value}</div>
        <div class="inv-detail-line"><strong>State Name</strong> : ${document.getElementById('companyState').value}</div>
        <div class="inv-detail-line"><strong>E-Mail :</strong> ${document.getElementById('companyEmail').value}</div>
        
        <div class="inv-consignee-section">
          <div class="inv-section-title">Consignee (Ship to)</div>
          <div class="inv-company-name">${document.getElementById('buyerName').value}</div>
          <div class="inv-detail-line">${document.getElementById('buyerAddress1').value}</div>
          <div class="inv-detail-line">${document.getElementById('buyerAddress2').value}</div>
          <div class="inv-detail-line"><strong>GSTIN/UIN</strong> : ${document.getElementById('buyerGSTIN').value}</div>
          <div class="inv-detail-line"><strong>State Name</strong> : ${document.getElementById('buyerState').value}</div>
        </div>
      </div>
      
      <div class="inv-right-col">
        <div class="inv-detail-line"><strong>Invoice No.</strong></div>
        <div class="inv-detail-line">${document.getElementById('invoiceNo').value}</div>
        <div class="inv-detail-line"><strong>Delivery Note</strong></div>
        <div class="inv-detail-line"><strong>Mode/Terms of Payment</strong></div>
        <div class="inv-detail-line">${document.getElementById('paymentTerms').value}</div>
        <div class="inv-detail-line"><strong>Reference No. & Date.</strong></div>
        <div class="inv-detail-line"><strong>Other References</strong></div>
        <div class="inv-detail-line"><strong>Buyer's Order No.</strong></div>
        <div class="inv-detail-line"><strong>Dated</strong></div>
        <div class="inv-detail-line"><strong>Dispatch Doc No.</strong></div>
        <div class="inv-detail-line"><strong>Delivery Note Date</strong></div>
        <div class="inv-detail-line"><strong>Dispatched through</strong></div>
        <div class="inv-detail-line">${document.getElementById('dispatchedThrough').value}</div>
        <div class="inv-detail-line"><strong>Bill of Lading/LR-RR No.</strong></div>
        <div class="inv-detail-line">${document.getElementById('billOfLading').value}</div>
        <div class="inv-detail-line"><strong>Terms of Delivery</strong></div>
        
        <div style="margin-top: 8px;">
          <div class="inv-detail-line"><strong>Dated</strong></div>
          <div class="inv-detail-line">${formatDate(document.getElementById('invoiceDate').value)}</div>
          <div class="inv-detail-line"><strong>Destination</strong></div>
          <div class="inv-detail-line">${document.getElementById('destination').value}</div>
          <div class="inv-detail-line"><strong>Motor Vehicle No</strong></div>
          <div class="inv-detail-line">${document.getElementById('vehicleNo').value}</div>
        </div>
      </div>
    </div>
    
    <div class="inv-buyer-section">
      <div class="inv-section-title">Buyer (Bill to)</div>
      <div class="inv-company-name">${document.getElementById('buyerName').value}</div>
      <div class="inv-detail-line">${document.getElementById('buyerAddress1').value}</div>
      <div class="inv-detail-line">${document.getElementById('buyerAddress2').value}</div>
      <div class="inv-detail-line"><strong>GSTIN/UIN</strong> : ${document.getElementById('buyerGSTIN').value}</div>
      <div class="inv-detail-line"><strong>State Name</strong> : ${document.getElementById('buyerState').value}</div>
    </div>
    
    <table class="inv-items-table">
      <thead>
        <tr>
          <th style="width: 5%;">Sl</th>
          <th style="width: 30%;">Description of Goods</th>
          <th style="width: 10%;">HSN/SAC</th>
          <th style="width: 10%;">Quantity</th>
          <th style="width: 10%;">Rate</th>
          <th style="width: 5%;">per</th>
          <th style="width: 15%;">Amount</th>
        </tr>
      </thead>
      <tbody>
        ${itemsHTML}
      </tbody>
    </table>
    
    <div class="inv-amount-words">
      <strong>Amount Chargeable (in words)</strong><br>
      <strong>INR ${numberToWords(roundedTotal)} Only</strong>
    </div>
    
    <div class="inv-eoe">E & O.E</div>
    
    <table class="inv-tax-table">
      <thead>
        <tr>
          <th rowspan="2" style="width: 15%;">HSN/SAC</th>
          <th rowspan="2" style="width: 15%;">Taxable<br>Value</th>
          <th colspan="2">CGST</th>
          <th colspan="2">SGST/UTGST</th>
          <th rowspan="2" style="width: 15%;">Total<br>Tax Amount</th>
        </tr>
        <tr>
          <th style="width: 10%;">Rate</th>
          <th style="width: 12%;">Amount</th>
          <th style="width: 10%;">Rate</th>
          <th style="width: 12%;">Amount</th>
        </tr>
      </thead>
      <tbody>
        ${taxHTML}
      </tbody>
    </table>
    
    <div class="inv-tax-words">
      <strong>Tax Amount (in words) :</strong> <strong>INR ${numberToWords(Math.round(totalCGST + totalSGST))} paisa Only</strong>
    </div>
    
    <div class="inv-bottom-section">
      <div class="inv-bank-col">
        <div style="margin-bottom: 5px;"><strong>Company's Bank Details</strong></div>
        <div class="inv-detail-line"><strong>A/c Holder's Name :</strong> ${document.getElementById('companyName').value.split(' ')[0]} HARDWARE 19-20</div>
        <div class="inv-detail-line"><strong>Bank Name :</strong> ${document.getElementById('bankName').value}</div>
        <div class="inv-detail-line"><strong>A/c No. :</strong> ${document.getElementById('accountNo').value}</div>
        <div class="inv-detail-line"><strong>Branch & IFS Code :</strong> ${document.getElementById('ifscCode').value}</div>
      </div>
      <div class="inv-signature-col">
        <div style="text-align: right; margin-bottom: 5px;"><strong>for ${document.getElementById('companyName').value}</strong></div>
        <div class="inv-signature-area">
          <div>Authorised Signatory</div>
        </div>
      </div>
    </div>
    
    <div class="inv-declaration">
      <strong>Declaration</strong><br>
      We declare that this invoice shows the actual price of the goods described and that all particulars are true and correct.
    </div>
    
    <div class="inv-footer">
      <p>SUBJECT TO ALL JURISDICTION IN AMBIKAPUR COURT JURISDICTION</p>
      <p>This is a Computer Generated Invoice</p>
    </div>
  `;
  
  document.getElementById('invoiceContainer').innerHTML = invoiceHTML;
  document.getElementById('invoicePreview').style.display = 'block';
  document.getElementById('invoicePreview').scrollIntoView({ behavior: 'smooth' });
}

function downloadPDF() { window.print(); }
function clearForm() { if (confirm('Are you sure you want to clear all fields?')) location.reload(); }
</script>
</body>
</html>